pi@raspberrypi:~ $ sudo apt-get install build-essential cmake pkg-config
Reading package lists... Done
Building dependency tree       
Reading state information... Done
build-essential is already the newest version (12.6).
pkg-config is already the newest version (0.29-6).
The following additional packages will be installed:
  cmake-data libjsoncpp1 librhash0
Suggested packages:
  cmake-doc ninja-build
The following NEW packages will be installed:
  cmake cmake-data libjsoncpp1 librhash0
0 upgraded, 4 newly installed, 0 to remove and 0 not upgraded.
Need to get 4,326 kB of archives.
After this operation, 22.3 MB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://archive.raspberrypi.org/debian buster/main armhf cmake-data all 3.16.3-3~bpo10+1 [1,628 kB]
Get:2 http://mirror.ossplanet.net/raspbian/raspbian buster/main armhf libjsoncpp1 armhf 1.7.4-3 [66.2 kB]
Get:4 http://archive.raspberrypi.org/debian buster/main armhf cmake armhf 3.16.3-3~bpo10+1 [2,500 kB]
Get:3 http://mirror.ossplanet.net/raspbian/raspbian buster/main armhf librhash0 armhf 1.3.8-1 [132 kB]
Fetched 4,326 kB in 4s (1,056 kB/s)                              
Selecting previously unselected package cmake-data.
(Reading database ... 143663 files and directories currently installed.)
Preparing to unpack .../cmake-data_3.16.3-3~bpo10+1_all.deb ...
Unpacking cmake-data (3.16.3-3~bpo10+1) ...
Selecting previously unselected package libjsoncpp1:armhf.
Preparing to unpack .../libjsoncpp1_1.7.4-3_armhf.deb ...
Unpacking libjsoncpp1:armhf (1.7.4-3) ...
Selecting previously unselected package librhash0:armhf.
Preparing to unpack .../librhash0_1.3.8-1_armhf.deb ...
Unpacking librhash0:armhf (1.3.8-1) ...
Selecting previously unselected package cmake.
Preparing to unpack .../cmake_3.16.3-3~bpo10+1_armhf.deb ...
Unpacking cmake (3.16.3-3~bpo10+1) ...
Setting up librhash0:armhf (1.3.8-1) ...
Setting up cmake-data (3.16.3-3~bpo10+1) ...
Setting up libjsoncpp1:armhf (1.7.4-3) ...
Setting up cmake (3.16.3-3~bpo10+1) ...
Processing triggers for man-db (2.8.5-2) ...
Processing triggers for libc-bin (2.28-10+rpi1) ...
pi@raspberrypi:~ $ sudo apt-get install python3-dev
Reading package lists... Done
Building dependency tree       
Reading state information... Done
python3-dev is already the newest version (3.7.3-1).
python3-dev set to manually installed.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
pi@raspberrypi:~ $ pip3 install opencv-contrib-python==4.1.0.25
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting opencv-contrib-python==4.1.0.25
  Could not find a version that satisfies the requirement opencv-contrib-python==4.1.0.25 (from versions: 3.4.11.45, 3.4.13.47, 3.4.14.51, 3.4.15.55, 4.4.0.46, 4.5.1.48, 4.5.2.52, 4.5.3.56)
No matching distribution found for opencv-contrib-python==4.1.0.25
pi@raspberrypi:~ $ pip3 install opencv-contrib-python==4.4.0.46
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting opencv-contrib-python==4.4.0.46
  Downloading https://www.piwheels.org/simple/opencv-contrib-python/opencv_contrib_python-4.4.0.46-cp37-cp37m-linux_armv7l.whl (15.6MB)
    100% |████████████████████████████████| 15.6MB 11kB/s 
Requirement already satisfied: numpy>=1.14.5 in ./.local/lib/python3.7/site-packages (from opencv-contrib-python==4.4.0.46) (1.21.1)
Installing collected packages: opencv-contrib-python
Successfully installed opencv-contrib-python-4.4.0.46
pi@raspberrypi:~ $ cd Documents/
pi@raspberrypi:~/Documents $ ls
dev
pi@raspberrypi:~/Documents $ cd dev
pi@raspberrypi:~/Documents/dev $ cd src
pi@raspberrypi:~/Documents/dev/src $ ls
 7.png         cascades          faces.py         images      __pycache__
 base.py      'Facepy log.log'   faces-train.py   keypad.py   recognizers
 cam_test.py   faceRec.py        finalface.py     pickles     unknown.png
pi@raspberrypi:~/Documents/dev/src $ python3 finalface.py
Traceback (most recent call last):
  File "finalface.py", line 3, in <module>
    import cv2
  File "/home/pi/.local/lib/python3.7/site-packages/cv2/__init__.py", line 5, in <module>
    from .cv2 import *
ImportError: libhdf5_serial.so.103: cannot open shared object file: No such file or directory
pi@raspberrypi:~/Documents/dev/src $ sudo apt-get install libhdf5-dev
Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following additional packages will be installed:
  hdf5-helpers libaec-dev libaec0 libhdf5-103 libhdf5-cpp-103 libjpeg-dev
  libjpeg62-turbo-dev libsz2
Suggested packages:
  libhdf5-doc
The following NEW packages will be installed:
  hdf5-helpers libaec-dev libaec0 libhdf5-103 libhdf5-cpp-103 libhdf5-dev
  libjpeg-dev libjpeg62-turbo-dev libsz2
0 upgraded, 9 newly installed, 0 to remove and 0 not upgraded.
Need to get 3,923 kB of archives.
After this operation, 14.1 MB of additional disk space will be used.
Do you want to continue? [Y/n] y
Get:1 http://mirror.ossplanet.net/raspbian/raspbian buster/main armhf hdf5-helpers armhf 1.10.4+repack-10 [35.2 kB]
Get:2 http://mirror.ossplanet.net/raspbian/raspbian buster/main armhf libaec0 armhf 1.0.2-1 [21.3 kB]
Get:3 http://mirror.ossplanet.net/raspbian/raspbian buster/main armhf libsz2 armhf 1.0.2-1 [6,640 B]
Get:4 http://mirror.ossplanet.net/raspbian/raspbian buster/main armhf libaec-dev armhf 1.0.2-1 [19.1 kB]
Get:5 http://mirror.ossplanet.net/raspbian/raspbian buster/main armhf libhdf5-103 armhf 1.10.4+repack-10 [1,259 kB]
Get:6 http://mirror.ossplanet.net/raspbian/raspbian buster/main armhf libhdf5-cpp-103 armhf 1.10.4+repack-10 [121 kB]
Get:7 http://mirror.ossplanet.net/raspbian/raspbian buster/main armhf libjpeg62-turbo-dev armhf 1:1.5.2-2+deb10u1 [181 kB]
Get:8 http://mirror.ossplanet.net/raspbian/raspbian buster/main armhf libjpeg-dev all 1:1.5.2-2+deb10u1 [57.7 kB]
Get:9 http://mirror.ossplanet.net/raspbian/raspbian buster/main armhf libhdf5-dev armhf 1.10.4+repack-10 [2,221 kB]
Fetched 3,923 kB in 14s (276 kB/s)                                             
Selecting previously unselected package hdf5-helpers.
(Reading database ... 146448 files and directories currently installed.)
Preparing to unpack .../0-hdf5-helpers_1.10.4+repack-10_armhf.deb ...
Unpacking hdf5-helpers (1.10.4+repack-10) ...
Selecting previously unselected package libaec0:armhf.
Preparing to unpack .../1-libaec0_1.0.2-1_armhf.deb ...
Unpacking libaec0:armhf (1.0.2-1) ...
Selecting previously unselected package libsz2:armhf.
Preparing to unpack .../2-libsz2_1.0.2-1_armhf.deb ...
Unpacking libsz2:armhf (1.0.2-1) ...
Selecting previously unselected package libaec-dev:armhf.
Preparing to unpack .../3-libaec-dev_1.0.2-1_armhf.deb ...
Unpacking libaec-dev:armhf (1.0.2-1) ...
Selecting previously unselected package libhdf5-103:armhf.
Preparing to unpack .../4-libhdf5-103_1.10.4+repack-10_armhf.deb ...
Unpacking libhdf5-103:armhf (1.10.4+repack-10) ...
Selecting previously unselected package libhdf5-cpp-103:armhf.
Preparing to unpack .../5-libhdf5-cpp-103_1.10.4+repack-10_armhf.deb ...
Unpacking libhdf5-cpp-103:armhf (1.10.4+repack-10) ...
Selecting previously unselected package libjpeg62-turbo-dev:armhf.
Preparing to unpack .../6-libjpeg62-turbo-dev_1%3a1.5.2-2+deb10u1_armhf.deb ...
Unpacking libjpeg62-turbo-dev:armhf (1:1.5.2-2+deb10u1) ...
Selecting previously unselected package libjpeg-dev.
Preparing to unpack .../7-libjpeg-dev_1%3a1.5.2-2+deb10u1_all.deb ...
Unpacking libjpeg-dev (1:1.5.2-2+deb10u1) ...
Selecting previously unselected package libhdf5-dev.
Preparing to unpack .../8-libhdf5-dev_1.10.4+repack-10_armhf.deb ...
Unpacking libhdf5-dev (1.10.4+repack-10) ...
Setting up hdf5-helpers (1.10.4+repack-10) ...
Setting up libaec0:armhf (1.0.2-1) ...
Setting up libjpeg62-turbo-dev:armhf (1:1.5.2-2+deb10u1) ...
Setting up libsz2:armhf (1.0.2-1) ...
Setting up libaec-dev:armhf (1.0.2-1) ...
Setting up libjpeg-dev (1:1.5.2-2+deb10u1) ...
Setting up libhdf5-103:armhf (1.10.4+repack-10) ...
Setting up libhdf5-cpp-103:armhf (1.10.4+repack-10) ...
Setting up libhdf5-dev (1.10.4+repack-10) ...
update-alternatives: using /usr/lib/arm-linux-gnueabihf/pkgconfig/hdf5-serial.pc to provide /usr/lib/arm-linux-gnueabihf/pkgconfig/hdf5.pc (hdf5.pc) in auto mode
Processing triggers for man-db (2.8.5-2) ...
Processing triggers for libc-bin (2.28-10+rpi1) ...
pi@raspberrypi:~/Documents/dev/src $ sudo apt-get install libhdf5-serial-dev
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Note, selecting 'libhdf5-dev' instead of 'libhdf5-serial-dev'
libhdf5-dev is already the newest version (1.10.4+repack-10).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
pi@raspberrypi:~/Documents/dev/src $ python3 finalface.py
Recognised as : Unknown
Unable to Recognize your face, Admin is informed about your presence
time 2021-07-29 14:28:37.593566
Uploading data to firebase
File not exist
Unknown
https://firebasestorage.googleapis.com/v0/b/mp-flutter-app.appspot.com/o/img%2F20210729142837.png?alt=media
July 29, 2021
14:28
pi@raspberrypi:~/Documents/dev/src $ 
